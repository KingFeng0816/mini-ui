'use strict';

var _component = require('./../common/component.js');

(0, _component.VantComponent)({
    props: {
        info: null,
        name: null,
        icon: String,
        dot: Boolean
    },
    relation: {
        name: 'tabbar',
        type: 'ancestor'
    },
    data: {
        active: false
    },
    methods: {
        onClick: function onClick() {
            if (this.parent) {
                this.parent.onChange(this);
            }
            this.$emit('click');
        },
        updateFromParent: function updateFromParent() {
            var parent = this.parent;

            if (!parent) {
                return;
            }
            var index = parent.children.indexOf(this);
            var parentData = parent.data;
            var data = this.data;

            var active = (data.name || index) === parentData.active;
            var patch = {};
            if (active !== data.active) {
                patch.active = active;
            }
            if (parentData.activeColor !== data.activeColor) {
                patch.activeColor = parentData.activeColor;
            }
            if (parentData.inactiveColor !== data.inactiveColor) {
                patch.inactiveColor = parentData.inactiveColor;
            }
            return Object.keys(patch).length > 0 ? this.set(patch) : Promise.resolve();
        }
    }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInByb3BzIiwiaW5mbyIsIm5hbWUiLCJpY29uIiwiU3RyaW5nIiwiZG90IiwiQm9vbGVhbiIsInJlbGF0aW9uIiwidHlwZSIsImRhdGEiLCJhY3RpdmUiLCJtZXRob2RzIiwib25DbGljayIsInBhcmVudCIsIm9uQ2hhbmdlIiwiJGVtaXQiLCJ1cGRhdGVGcm9tUGFyZW50IiwiaW5kZXgiLCJjaGlsZHJlbiIsImluZGV4T2YiLCJwYXJlbnREYXRhIiwicGF0Y2giLCJhY3RpdmVDb2xvciIsImluYWN0aXZlQ29sb3IiLCJPYmplY3QiLCJrZXlzIiwibGVuZ3RoIiwic2V0IiwiUHJvbWlzZSIsInJlc29sdmUiXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0EsOEJBQWM7QUFDVkEsV0FBTztBQUNIQyxjQUFNLElBREg7QUFFSEMsY0FBTSxJQUZIO0FBR0hDLGNBQU1DLE1BSEg7QUFJSEMsYUFBS0M7QUFKRixLQURHO0FBT1ZDLGNBQVU7QUFDTkwsY0FBTSxRQURBO0FBRU5NLGNBQU07QUFGQSxLQVBBO0FBV1ZDLFVBQU07QUFDRkMsZ0JBQVE7QUFETixLQVhJO0FBY1ZDLGFBQVM7QUFDTEMsZUFESyxxQkFDSztBQUNOLGdCQUFJLEtBQUtDLE1BQVQsRUFBaUI7QUFDYixxQkFBS0EsTUFBTCxDQUFZQyxRQUFaLENBQXFCLElBQXJCO0FBQ0g7QUFDRCxpQkFBS0MsS0FBTCxDQUFXLE9BQVg7QUFDSCxTQU5JO0FBT0xDLHdCQVBLLDhCQU9jO0FBQUEsZ0JBQ1BILE1BRE8sR0FDSSxJQURKLENBQ1BBLE1BRE87O0FBRWYsZ0JBQUksQ0FBQ0EsTUFBTCxFQUFhO0FBQ1Q7QUFDSDtBQUNELGdCQUFNSSxRQUFRSixPQUFPSyxRQUFQLENBQWdCQyxPQUFoQixDQUF3QixJQUF4QixDQUFkO0FBQ0EsZ0JBQU1DLGFBQWFQLE9BQU9KLElBQTFCO0FBTmUsZ0JBT1BBLElBUE8sR0FPRSxJQVBGLENBT1BBLElBUE87O0FBUWYsZ0JBQU1DLFNBQVMsQ0FBQ0QsS0FBS1AsSUFBTCxJQUFhZSxLQUFkLE1BQXlCRyxXQUFXVixNQUFuRDtBQUNBLGdCQUFNVyxRQUFRLEVBQWQ7QUFDQSxnQkFBSVgsV0FBV0QsS0FBS0MsTUFBcEIsRUFBNEI7QUFDeEJXLHNCQUFNWCxNQUFOLEdBQWVBLE1BQWY7QUFDSDtBQUNELGdCQUFJVSxXQUFXRSxXQUFYLEtBQTJCYixLQUFLYSxXQUFwQyxFQUFpRDtBQUM3Q0Qsc0JBQU1DLFdBQU4sR0FBb0JGLFdBQVdFLFdBQS9CO0FBQ0g7QUFDRCxnQkFBSUYsV0FBV0csYUFBWCxLQUE2QmQsS0FBS2MsYUFBdEMsRUFBcUQ7QUFDakRGLHNCQUFNRSxhQUFOLEdBQXNCSCxXQUFXRyxhQUFqQztBQUNIO0FBQ0QsbUJBQU9DLE9BQU9DLElBQVAsQ0FBWUosS0FBWixFQUFtQkssTUFBbkIsR0FBNEIsQ0FBNUIsR0FDRCxLQUFLQyxHQUFMLENBQVNOLEtBQVQsQ0FEQyxHQUVETyxRQUFRQyxPQUFSLEVBRk47QUFHSDtBQTdCSTtBQWRDLENBQWQiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBWYW50Q29tcG9uZW50IH0gZnJvbSAnLi4vY29tbW9uL2NvbXBvbmVudCc7XG5WYW50Q29tcG9uZW50KHtcbiAgICBwcm9wczoge1xuICAgICAgICBpbmZvOiBudWxsLFxuICAgICAgICBuYW1lOiBudWxsLFxuICAgICAgICBpY29uOiBTdHJpbmcsXG4gICAgICAgIGRvdDogQm9vbGVhblxuICAgIH0sXG4gICAgcmVsYXRpb246IHtcbiAgICAgICAgbmFtZTogJ3RhYmJhcicsXG4gICAgICAgIHR5cGU6ICdhbmNlc3RvcidcbiAgICB9LFxuICAgIGRhdGE6IHtcbiAgICAgICAgYWN0aXZlOiBmYWxzZVxuICAgIH0sXG4gICAgbWV0aG9kczoge1xuICAgICAgICBvbkNsaWNrKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQub25DaGFuZ2UodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLiRlbWl0KCdjbGljaycpO1xuICAgICAgICB9LFxuICAgICAgICB1cGRhdGVGcm9tUGFyZW50KCkge1xuICAgICAgICAgICAgY29uc3QgeyBwYXJlbnQgfSA9IHRoaXM7XG4gICAgICAgICAgICBpZiAoIXBhcmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gcGFyZW50LmNoaWxkcmVuLmluZGV4T2YodGhpcyk7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnREYXRhID0gcGFyZW50LmRhdGE7XG4gICAgICAgICAgICBjb25zdCB7IGRhdGEgfSA9IHRoaXM7XG4gICAgICAgICAgICBjb25zdCBhY3RpdmUgPSAoZGF0YS5uYW1lIHx8IGluZGV4KSA9PT0gcGFyZW50RGF0YS5hY3RpdmU7XG4gICAgICAgICAgICBjb25zdCBwYXRjaCA9IHt9O1xuICAgICAgICAgICAgaWYgKGFjdGl2ZSAhPT0gZGF0YS5hY3RpdmUpIHtcbiAgICAgICAgICAgICAgICBwYXRjaC5hY3RpdmUgPSBhY3RpdmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFyZW50RGF0YS5hY3RpdmVDb2xvciAhPT0gZGF0YS5hY3RpdmVDb2xvcikge1xuICAgICAgICAgICAgICAgIHBhdGNoLmFjdGl2ZUNvbG9yID0gcGFyZW50RGF0YS5hY3RpdmVDb2xvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXJlbnREYXRhLmluYWN0aXZlQ29sb3IgIT09IGRhdGEuaW5hY3RpdmVDb2xvcikge1xuICAgICAgICAgICAgICAgIHBhdGNoLmluYWN0aXZlQ29sb3IgPSBwYXJlbnREYXRhLmluYWN0aXZlQ29sb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMocGF0Y2gpLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICA/IHRoaXMuc2V0KHBhdGNoKVxuICAgICAgICAgICAgICAgIDogUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcbiJdfQ==